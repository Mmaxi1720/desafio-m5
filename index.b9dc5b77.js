function n(n,e,t,a){Object.defineProperty(n,e,{get:t,set:a,enumerable:!0,configurable:!0})}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},o=e.parcelRequire9acc;null==o&&((o=function(n){if(n in t)return t[n].exports;if(n in a){var e=a[n];delete a[n];var o={id:n,exports:{}};return t[n]=o,e.call(o.exports,o,o.exports),o.exports}var s=new Error("Cannot find module '"+n+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(n,e){a[n]=e},e.parcelRequire9acc=o),o.register("7PhYn",(function(e,t){var a,o;n(e.exports,"register",(()=>a),(n=>a=n)),n(e.exports,"resolve",(()=>o),(n=>o=n));var s={};a=function(n){for(var e=Object.keys(n),t=0;t<e.length;t++)s[e[t]]=n[e[t]]},o=function(n){var e=s[n];if(null==e)throw new Error("Could not resolve bundle with id "+n);return e}})),o("7PhYn").register(JSON.parse('{"bmJ2i":"index.b9dc5b77.js","lbeob":"piedra.60203d08.png","3soag":"tijera.cad77ea3.png","hr0n2":"papel.9f7b03c8.png","2d3Eg":"empate.1cb971e6.svg","9wdbP":"ganaste.925a67b3.svg","8raRh":"perdiste.9846907e.svg"}')),customElements.define("boton-el",class extends HTMLElement{constructor(){super(),this.render()}render(){const n=this.attachShadow({mode:"open"}),e=document.createElement("style"),t=document.createElement("button");t.textContent=this.textContent,t.className="boton",e.innerHTML="\n          .boton{\n            width: 300px;\n            height: 75px;\n            background-color: #006CFC;\n            color: #ffff;\n            font-size: 40px;\n            border: 10px solid #001997;\n            border-radius: 10px;\n            display: block;\n            margin: 35px auto;\n        }\n        @media(min-width: 376px){\n        .boton {\n          }\n        }\n        .btn:hover {\n          cursor: pointer;\n        }\n      ",n.appendChild(e),n.appendChild(t)}}),customElements.define("text-comp",class extends HTMLElement{constructor(){super(),this.render()}render(){const n=this.getAttribute("variant")||"body",e=this.attachShadow({mode:"open"}),t=document.createElement("div"),a=document.createElement("style");t.className="text",a.innerHTML="\n        .text {\n          text-align: center;\n          padding: 20px 20px 0;\n          font-size: 40px;\n          height: auto;\n          width: 300px;\n          margin: 0 auto;\n          }\n          .title {\n          font-size: 65px;\n          line-height: 85px;\n          font-family: 'Fredoka One', cursive;\n          }\n        ",t.innerHTML=this.textContent,t.className=n+" text",e.appendChild(a),e.appendChild(t)}}),o.register("azopc",(function(n,e){n.exports=o("kVZsc").getBundleURL("bmJ2i")+o("7PhYn").resolve("lbeob")})),o.register("kVZsc",(function(e,t){var a;n(e.exports,"getBundleURL",(()=>a),(n=>a=n));var o={};function s(n){return(""+n).replace(/^((?:https?|file|ftp):\/\/.+)\/[^/]+$/,"$1")+"/"}a=function(n){var e=o[n];return e||(e=function(){try{throw new Error}catch(e){var n=(""+e.stack).match(/(https?|file|ftp):\/\/[^)\n]+/g);if(n)return s(n[2])}return"/"}(),o[n]=e),e}})),o.register("fDR87",(function(n,e){n.exports=o("kVZsc").getBundleURL("bmJ2i")+o("7PhYn").resolve("3soag")})),o.register("5rSl3",(function(n,e){n.exports=o("kVZsc").getBundleURL("bmJ2i")+o("7PhYn").resolve("hr0n2")}));const s={piedra:o("azopc"),tijeras:o("fDR87"),papel:o("5rSl3")};customElements.define("hands-comp",class extends HTMLElement{constructor(){super()}connectedCallback(){this.render()}addListeners(){this.addEventListener("click",(()=>{const n=new CustomEvent("handClick",{detail:{handMove:this.getAttribute("hand")}});this.dispatchEvent(n)}))}render(){const n=this.attachShadow({mode:"open"}),e=document.createElement("style"),t=document.createElement("div"),a=this.getAttribute("hand");t.innerHTML=`\n          <img class="hand" src="${s[a]}" />\n        `,e.innerHTML="\n        .hand{\n        position: relative;\n        top: 6px;\n        }\n      @media(min-width:376px){\n        .hand{\n        height: 200px;\n        }\n      }\n        ",n.appendChild(e),n.appendChild(t)}});const r={data:{currentGame:{computerPlay:"",myPlay:""},history:{myScore:0,computerScore:0}},listeners:[],getStorage(){const n=JSON.parse(localStorage.getItem("data"));if(localStorage.getItem("data"))return this.data.history=n},getState(){return this.data},setState(n){this.data=n;for(const n of this.listeners)n();console.log("Soy el state y cambie",this.data),this.savedData()},suscribe(n){this.listeners.push(n)},setScore(){const n=this.getState(),e=this.getState().currentGame.myPlay,t=this.getState().currentGame.computerPlay,a=this.whoWins(e,t),o=n.history.myScore,s=n.history.computerScore;return"ganaste"===a?this.setState({...n,history:{myScore:o+1,computerScore:s}}):"perdiste"===a?this.setState({...n,history:{myScore:o,computerScore:s+1}}):void 0},whoWins(n,e){if(["papel"==n&&"papel"==e,"piedra"==n&&"piedra"==e,"tijeras"==n&&"tijeras"==e].includes(!0))return"empate";return["papel"==n&&"piedra"==e,"piedra"==n&&"tijeras"==e,"tijeras"==n&&"papel"==e].includes(!0)?"ganaste":"perdiste"},setMove(n){const e=this.getState();e.currentGame.myPlay=n;e.currentGame.computerPlay=["tijeras","piedra","papel"][Math.floor(3*Math.random())],this.setScore()},savedData(){const n=this.getState().history;localStorage.setItem("data",JSON.stringify(n))}};o.register("iTb0w",(function(n,e){n.exports=o("kVZsc").getBundleURL("bmJ2i")+o("7PhYn").resolve("2d3Eg")})),o.register("3Vbzb",(function(n,e){n.exports=o("kVZsc").getBundleURL("bmJ2i")+o("7PhYn").resolve("9wdbP")})),o.register("8ERXu",(function(n,e){n.exports=o("kVZsc").getBundleURL("bmJ2i")+o("7PhYn").resolve("8raRh")}));const i={tie:o("iTb0w"),win:o("3Vbzb"),loss:o("8ERXu")};const c=[{path:/\/welcome/,component:function(n){const e=document.createElement("div");return e.className="container",e.innerHTML='\n    <text-comp variant="title">Piedra Papel o Tijeras</text-comp>\n    <boton-el class="button">Empezar</boton-el>\n    <div class="container__hand">\n    \n      <hands-comp hand="piedra"></hands-comp>\n      <hands-comp hand="papel"></hands-comp>\n      <hands-comp hand="tijeras"></hands-comp>\n    </div>\n    ',e.querySelector(".button").addEventListener("click",(()=>n.goTo("/instrucciones"))),e}},{path:/\/instrucciones/,component:function(n){const e=document.createElement("div");return e.className="container",e.innerHTML='\n    \n      <text-comp variant="large">Presioná jugar y elegí: piedra, papel o tijera antes de que pasen los 5 segundos.</text-comp>\n      <boton-el class="button">Jugar</boton-el>\n      <div class="container__hand">\n      <hands-comp hand="piedra"></hands-comp>\n      <hands-comp hand="papel"></hands-comp>\n      <hands-comp hand="tijeras"></hands-comp>\n    </div>\n      \n    ',e.querySelector(".button").addEventListener("click",(()=>n.goTo("/juego"))),e}},{path:/\/juego/,component:function(n){let e=5;const t=setInterval((()=>{e--;a.querySelector(".master-circle").textContent=String(e),e<0&&(clearInterval(t),n.goTo("/instrucciones"))}),1e3),a=document.createElement("div");a.className="container",a.innerHTML=`\n  <div class="container__hand">\n  <hands-comp hand="piedra" class="rock__bottom disabled"></hands-comp>\n  <hands-comp hand="papel" class="paper__bottom disabled"></hands-comp>\n  <hands-comp hand="tijeras" class="scissors__bottom disabled"></hands-comp>\n</div>\n\n    <div class="hands__top">\n      <hands-comp hand="piedra" class="rock__top hand-display-none"></hands-comp>\n      <hands-comp hand="papel" class="paper__top hand-display-none"></hands-comp>\n      <hands-comp hand="tijeras" class="scissors__top hand-display-none"></hands-comp>\n    </div>\n\n    <div class="master-circle">${e}</div>\n  \n  `;const o=document.createElement("style");o.innerHTML='\n  .container__hand {\n    margin: 0 30px;\n    position: relative;\n    top: 420px;\n};\n    .hands__top {\n      transform: rotate(180deg);\n      display: flex;\n      align-items: center;\n      position: absolute;\n      top: 0;\n    }\n    .actived {\n      display: inherit;\n      transform: translateY(-30px);\n      transition: all 0.5s;\n    }\n    .disabled {\n      opacity: 60%;\n    }\n    .hand-display-none {\n      display: none;\n    }\n    .active-hands{\n      width\n    }\n    .actived-hands-top {\n      width: 100%;\n      display: flex;\n      justify-content: center;\n    }\n    .actived-hand-top {\n      display: flex;\n      transform: translateY(-30px);\n      transition: all 0.5s;\n    }\n    hands-comp:hover {\n      cursor:pointer\n    }\n    .master-circle {\n      width: 150px;\n      height: 150px;\n      box-shadow: 0 0 0 1.875vmin, inset 3.75vmin 3.75vmin 7.5vmin rgba(0, 0, 0, 0.125), 3.75vmin 3.75vmin 7.5vmin rgba(0, 0, 0, 0.125);\n      font-size: 100px;\n      position: absolute;\n      top: 33%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      overflow: hidden;\n      color: #000;\n      border-radius: 50%;\n      border: 30px;\n      font-weight: 700;\n    }\n    @media (min-width: 420px) {\n      .master-circle {\n        width: 250px;\n        height: 250px;\n        box-shadow: 0 0 0 1.25vmin, inset 2.5vmin 2.5vmin 5vmin rgba(0, 0, 0, 0.125), 2.5vmin 2.5vmin 5vmin rgba(0, 0, 0, 0.125);\n        font-size: 25vmin;\n        text-shadow: 2.5vmin 2.5vmin 5vmin rgba(0, 0, 0, 0.125);\n      }\n    }\n    .master-circle:before {\n      content: "";\n      -webkit-animation: 5s 1s forwards timer_countdown, 1s 0.875s 15 timer_beat;\n              animation: 5s 1s forwards timer_countdown, 1s 0.875s 15 timer_beat;\n      color: #000;\n    }\n    @-webkit-keyframes timer_beat {\n      40%, 80% {\n        transform: none;\n      }\n      50% {\n        transform: scale(1.125);\n      }\n    }\n    @keyframes timer_beat {\n      40%, 80% {\n        transform: none;\n      }\n      50% {\n        transform: scale(1.125);\n      }\n    }\n    .master-circle:after {\n      content: "";\n      position: absolute;\n      top: 0;\n      left: 0;\n      z-index: -100;\n      width: 100%;\n      height: 100%;\n      background-color: rgba(0, 0, 0, 0.125);\n      -webkit-animation: 5s 1s linear forwards timer_indicator;\n              animation: 5s 1s linear forwards timer_indicator;\n    }\n    @-webkit-keyframes timer_indicator {\n      100% {\n        transform: translateY(100%);\n      }\n    }\n    @keyframes timer_indicator {\n      100% {\n        transform: translateY(100%);\n      }\n    }\n    ';const s=a.querySelector(".master-circle"),i=a.querySelector(".container__hand"),c=a.querySelector(".hands__top"),d=a.querySelector(".rock__top"),l=a.querySelector(".paper__top"),p=a.querySelector(".scissors__top"),m=a.querySelector(".container__hand").children,h=a.querySelector(".rock__bottom"),u=a.querySelector(".scissors__bottom"),f=a.querySelector(".paper__bottom");for(const n of m)n.addEventListener("click",(()=>{const e=n.getAttribute("hand");clearInterval(t),"tijeras"===e?(r.setMove("tijeras"),g("tijeras")):"piedra"===e?(r.setMove("piedra"),g("piedra")):"papel"===e&&(r.setMove("papel"),g("papel"))}));function g(e){"tijeras"===e?(u.classList.remove("disabled"),u.classList.add("actived"),setTimeout((()=>{h.classList.add("hand-display-none"),f.classList.add("hand-display-none")}),1500)):"piedra"===e?(h.classList.remove("disabled"),h.classList.add("actived"),setTimeout((()=>{u.classList.add("hand-display-none"),f.classList.add("hand-display-none")}),1500)):"papel"===e&&(f.classList.remove("disabled"),f.classList.add("actived"),setTimeout((()=>{u.classList.add("hand-display-none"),h.classList.add("hand-display-none")}),1500)),setTimeout((()=>{const e=r.getState().currentGame.computerPlay;s.remove(),i.classList.add("active-hands"),c.classList.add("actived-hands-top"),"tijeras"==e&&p.classList.add("actived-hand-top"),"piedra"==e&&d.classList.add("actived-hand-top"),"papel"==e&&l.classList.add("actived-hand-top"),setTimeout((()=>{n.goTo("/resultado")}),1500)}),1500)}return a.appendChild(o),a}},{path:/\/resultado/,component:function(n){const e=document.createElement("div");e.className="container__results";const t=r.getState(),a=t.currentGame,o=a.myPlay,s=a.computerPlay,c=r.whoWins(o,s);let d,l;"ganaste"===c?(l=i.win,d="rgba(136, 137, 73, 0.6)"):"perdiste"===c?(l=i.loss,d="rgba(137, 73, 73, 0.6)"):(l=i.tie,d="rgba(106, 112, 101, 0.6)");const p=document.createElement("style");return e.innerHTML=`\n    <div>\n      <img class="img__result" src="${l}">\n      </div>\n    <div class="board">\n      <div>\n        <h3>Score</h3>\n      </div>\n        <texto class="texto">Vos: ${t.history.myScore}</texto>\n        <texto class="texto">Máquina: ${t.history.computerScore}</texto>\n    </div>\n    <btn-comp class="button again">Volver a Jugar</btn-comp>\n    <btn-comp class="button back">Volver al Inicio</btn-comp>\n  `,e.querySelector(".again").addEventListener("click",(()=>{n.goTo("./juego")})),e.querySelector(".back").addEventListener("click",(()=>{n.goTo("/welcome")})),p.innerHTML=`\n      .container__results {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        height: 667px;\n        color: black;\n        background-color: ${d};\n      }\n    .img__result {\n      height: 230px;\n      margin: 10px;\n    }\n    .board {\n      height: 200px;\n      width: 250px;\n      display: flex;\n      flex-direction: column;\n      border: 10px solid;\n      border-radius: 10px;\n      margin: 0 auto;\n      background-color: #fff;\n    }\n    .board  h3 {\n      text-align: center;\n      font-size: 30px;\n      margin: 20px;\n    }\n    .board > text-comp {\n      align-self: flex-end;\n    }\n    .texto{\n      font-size: 30px;\n      margin: 10px auto;\n  }\n    .again{\n      font-size: 20px;\n      margin: 10px;\n      color:white;\n    }\n    .back {\n      font-size: 20px;\n      margin: 10px;\n      color:white;\n    }\n    @media(min-width: 376px){\n      .again{\n        font-size: 30px;\n        margin: 20px;\n\n      }\n      .back {\n        font-size: 30px;\n        margin: 20px;\n        \n      }\n    }\n  `,e.appendChild(p),e}}];function d(){return location.host.includes("github.io")}!function(){r.getStorage();!function(n){function e(n){const e=d()?"/desafio-m5"+n:n;history.pushState({},"",e),t(e)}function t(t){const a=d()?t.replace("/desafio-m5",""):t;for(const t of c)if(t.path.test(a)){const a=t.component({goTo:e});n.firstChild&&n.firstChild.remove(),n.appendChild(a)}}"/"==location.pathname||"/dwf-m5/"==location.pathname?e("/welcome"):t(location.pathname),window.onpopstate=()=>{t(location.pathname)}}(document.querySelector(".root"))}();
//# sourceMappingURL=index.b9dc5b77.js.map
